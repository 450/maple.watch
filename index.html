<!DOCTYPE html>
<html>
<head>
	<title>MapleStory Status Checker</title>
	<link rel="icon" type="image/png" href="icons/Nexon.png">
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="icons/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="stylesheet.css">
</head>
<body>
	<div class="wrapper" data-bind="foreach: applications">
		<section>
			<div class="info">
				<h2 data-bind="text: name"></h2>
				<!-- ko if: description -->
				<p data-bind="text: description"></p>
				<!-- /ko -->
				<ul data-bind="foreach: icons">
					<li data-bind="attr: { 'data-for': name }">
						<span class="icon">
							<img data-bind="attr: { src: 'icons/' + icon }" />
						</span>
						<span data-bind="text: name"></span>
					</li>
				</ul>
			</div>
			<div class="servers" data-bind="foreach: content.servers">
				<!-- ko if: unknown == false -->
				<!-- ko if: name == "Channel 1" -->
				<br>
				<!-- /ko -->
				<article data-bind="css: { ok: +time() > 0 && +time() < 1000, slow: +time() >= 1000, timeout: status() == 'timeout' }, attr: { 'data-rel': rel }">
					<div>
						<h3>
							<!-- ko if: icon.charAt(0) != 'f' -->
							<img data-bind="attr: { src: 'icons/' + icon }" />
							<!-- /ko -->
							<!-- ko if: icon.charAt(0) == 'f' -->
							<i class="icon fa" data-bind="css: icon"></i>
							<!-- /ko -->
							<span data-bind="html: sub ? name + ' <small>' + sub + '</small>' : name"></span>
						</h3>
						<dl>
							<dt>IP</dt>
							<dd class="address" data-bind="html: isNaN('' + address.charAt(0)) ? '<a target=\'_blank\' href=\'http' + (port == 443 ? 's' : '') + '://' + address + '\'>' + address + '</a>' : address, attr: { title: address }"></dd>
							<dt>Port</dt>
							<dd class="port" data-bind="text: port"></dd>
						</dl>
					</div>
					<div class="status" data-bind="css: { ok: +time() > 0 && +time() < 1000, slow: +time() >= 1000, timeout: status() == 'timeout' }">
						<div class="text" data-bind="text: status() == 'timeout' ? 'Offline' : time() > 0 ? time() < 1000 ? 'Online!' : 'Online! Slow...' : 'Checking...'"></div>
						<div class="time" data-bind="text: time() !== '' && status() != 'timeout' ? time() + 'ms' : ''"></div>
					</div>
				</article>
				<!-- /ko -->
			</div>
		</section>
	</div>
	<div class="wrapper">
		<footer>&copy; 450.github.io/mse 2015<br>All Rights Reserved</footer>
	</div>
	<script type="text/javascript" src="knockout.min.js"></script>
	<script type="text/javascript" src="jquery.min.js"></script>
	<script type="text/javascript" src="checker.js"></script>
</body>
</html>